<!-- Initial overlay -->
<div *ngIf="isInitial" class="initial-overlay">
  <div class="welcome-title">Telco AI Assistant</div>
  <div class="welcome-sub">
    Ask me about mobile plans and recommendations.
  </div>

  <div class="initial-input-wrapper">
    <input
      placeholder="Ask about the best plan for youâ€¦"
      [(ngModel)]="input"
      (keyup.enter)="sendMessage()"
    />
    <button (click)="sendMessage()" [disabled]="loading">Start</button>
  </div>
</div>

<!-- Chat container -->
<div class="messages" #messagesContainer *ngIf="!isInitial">
  <div
    *ngFor="let msg of messages"
    class="message"
    [ngClass]="msg.type"
  >
    <div class="avatar">
      {{ msg.type === 'user' ? 'ðŸ§‘' : 'ðŸ¤–' }}
    </div>

    <div class="bubble">
      {{ msg.text }}
    </div>
  </div>

  <!-- Typing indicator -->
  <div class="message bot" *ngIf="loading">
    <div class="avatar">ðŸ¤–</div>
    <div class="bubble typing">
      <span></span><span></span><span></span>
    </div>
  </div>
</div>

<!-- Fixed input at bottom -->
<div class="input-wrapper" *ngIf="!isInitial">
  <input
    placeholder="Type your messageâ€¦"
    [(ngModel)]="input"
    (keyup.enter)="sendMessage()"
  />
  <button (click)="sendMessage()" [disabled]="loading">
    âž¤
  </button>
</div>
